webpackJsonp([0,2],[function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return document.documentElement.clientWidth},i=function(){return document.documentElement.clientHeight},r=function(t){var e=t.getBoundingClientRect(),n=document.documentElement,o=window;return{top:e.top+o.pageYOffset-n.clientTop,left:e.left+o.pageXOffset-n.clientLeft}},a=function(t,e,n){var o=function t(o){o.target.removeEventListener(e,t),n()};t.addEventListener(e,o)};e.windowWidth=o,e.windowHeight=i,e.elemOffset=r,e.once=a},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(6),c=n(3),l=o(c);n(4);var d=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"componentDidMount",value:function(){(0,l.default)(this.img)}},{key:"render",value:function(){var t=this;return(0,u.h)("div",{class:"app"},(0,u.h)("h1",null,"Just tap the image!"),(0,u.h)("p",null,(0,u.h)("a",{href:"https://github.com/egoist/zoom-image"},"egoist/zoom-image")),(0,u.h)("img",{width:"200",ref:function(e){return t.img=e},src:"https://ooo.0o0.ooo/2017/02/11/589ecad7083f4.png"}))}}]),e}(u.Component);(0,u.render)((0,u.h)(d,null),document.body)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),a=function t(e,n){o(this,t),this.w=e,this.h=n},s=function(){function t(e,n){o(this,t),this.img=e,this.preservedTransform=e.style.transform,this.wrap=null,this.overlay=null,this.offset=n}return i(t,[{key:"forceRepaint",value:function(){this.img.offsetWidth}},{key:"zoom",value:function(){var t=new a(this.img.naturalWidth,this.img.naturalHeight);this.wrap=document.createElement("div"),this.wrap.classList.add("zoom-img-wrap"),this.img.parentNode.insertBefore(this.wrap,this.img),this.wrap.appendChild(this.img),this.img.classList.add("zoom-img"),this.img.setAttribute("data-action","zoom-out"),this.overlay=document.createElement("div"),this.overlay.classList.add("zoom-overlay"),document.body.appendChild(this.overlay),this.forceRepaint();var e=this.calculateScale(t);this.forceRepaint(),this.animate(e),document.body.classList.add("zoom-overlay-open")}},{key:"calculateScale",value:function(t){var e=t.w/this.img.width,n=(0,r.windowWidth)()-this.offset,o=(0,r.windowHeight)()-this.offset,i=t.w/t.h,a=n/o;return t.w<n&&t.h<o?e:i<a?o/t.h*e:n/t.w*e}},{key:"animate",value:function(t){var e=(0,r.elemOffset)(this.img),n=window.pageYOffset,o=(0,r.windowWidth)()/2,i=n+(0,r.windowHeight)()/2,a=e.left+this.img.width/2,s=e.top+this.img.height/2,u=o-a,c=i-s,l=0,d="scale("+t+")",f="translate3d("+u+"px, "+c+"px, "+l+"px)";this.img.style.transform=d,this.wrap.style.transform=f}},{key:"dispose",value:function(){null!==this.wrap&&null!==this.wrap.parentNode&&(this.img.classList.remove("zoom-img"),this.img.setAttribute("data-action","zoom"),this.wrap.parentNode.insertBefore(this.img,this.wrap),this.wrap.parentNode.removeChild(this.wrap),document.body.removeChild(this.overlay),document.body.classList.remove("zoom-overlay-transitioning"))}},{key:"close",value:function(){var t=this;document.body.classList.add("zoom-overlay-transitioning"),this.img.style.transform=this.preservedTransform,0===this.img.style.length&&this.img.removeAttribute("style"),this.wrap.style.transform="none",(0,r.once)(this.img,"transitionend",function(){t.dispose(),document.body.classList.remove("zoom-overlay-open")})}}]),t}();e.default=s},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(){w===-1&&(w=window.pageYOffset);var t=Math.abs(w-window.pageYOffset);t>=40&&d()}function r(t){27===t.keyCode&&d()}function a(t){var e=t.touches[0];null!==e&&(y=e.pageY,t.target.addEventListener("touchmove",s))}function s(t){var e=t.touches[0];null!==e&&Math.abs(e.pageY-y)>10&&(d(),t.target.removeEventListener("touchmove",s))}function u(){d()}function c(){document.addEventListener("scroll",i),document.addEventListener("keyup",r),document.addEventListener("touchstart",a),document.addEventListener("click",u,!0)}function l(){document.removeEventListener("scroll",i),document.removeEventListener("keyup",r),document.removeEventListener("touchstart",a),document.removeEventListener("click",u,!0)}function d(t){null!==v&&(t?v.dispose():v.close(),l(),v=null)}function f(t){if(!document.body.classList.contains("zoom-overlay-open"))return t.metaKey||t.ctrlKey?void window.open(t.target.getAttribute("data-original")||t.target.src,"_blank"):void(t.target.width>=(0,p.windowWidth)()-g||(d(!0),v=new m.default(t.target,g),v.zoom(),c()))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t.addEventListener("click",f)};var h=n(2),m=o(h),p=n(0),v=null,g=80,w=-1,y=-1},function(t,e){},,,function(t,e,n){t.exports=n(1)}],[7]);
//# sourceMappingURL=client.88a5d88c.js.map